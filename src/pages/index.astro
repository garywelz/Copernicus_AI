import Layout from '../layouts/Layout.astro';
import EpisodeCard from '../components/EpisodeCard.astro';
import { getShowEpisodes, getShowInfo } from '../utils/spotify';

const showId = import.meta.env.SPOTIFY_SHOW_ID;
const show = await getShowInfo(showId);
const episodes = await getShowEpisodes(showId);

<Layout title="Copernicus AI Podcast">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">
        {show.name}
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {show.description}
      </p>
    </div>

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {episodes.map((episode) => (
        <EpisodeCard episode={episode} />
      ))}
    </div>
  </div>
</Layout> 